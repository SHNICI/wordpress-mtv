/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *//**
 * Create a cookie with the given name and value and other optional parameters.
 *
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Set the value of a cookie.
 * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });
 * @desc Create a cookie with all available options.
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Create a session cookie.
 * @example $.cookie('the_cookie', null);
 * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain
 *       used when the cookie was set.
 *
 * @param String name The name of the cookie.
 * @param String value The value of the cookie.
 * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.
 * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.
 *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.
 *                             If set to null or omitted, the cookie will be a session cookie and will not be retained
 *                             when the the browser exits.
 * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).
 * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).
 * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will
 *                        require a secure protocol (like HTTPS).
 * @type undefined
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 *//**
 * Get the value of a cookie with the given name.
 *
 * @example $.cookie('the_cookie');
 * @desc Get the value of a cookie.
 *
 * @param String name The name of the cookie.
 * @return The value of the cookie.
 * @type String
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var i=null;if(document.cookie&&document.cookie!=""){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}}return i}c=c||{},b===null&&(b="",c.expires=-1);var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;typeof c.expires=="number"?(e=new Date,e.setTime(e.getTime()+c.expires*24*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")},function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1};a||(a=jQuery),window.MTV=new Object({debugging:function(){return WordPress.DEPLOYMENT_SETTINGS!=="production"||!this.hasConsole()?!1:!0},hasConsole:function(){try{return"console"in window&&window.console!==null}catch(a){return!1}},do_ajax:function(c,d,e,f){var g,h;g=JSON.stringify(d),h={url:WordPress.ajaxurl,type:"POST",data:{action:"mtv",path:c,data:g},dataType:"json",success:b(function(a,b,c){this.debugging()&&(console.log("do_ajax: "+b),console.log(a),console.log(c));if(e)return e(a,b,c)},this),error:b(function(a,b,c){this.debugging()&&(console.log("do_ajax: "+b),console.log(a),console.log(c));if(f)return f(a,b,c)},this)};return this.debugging()?setTimeout(b(function(){return a.ajax(h)},this),2e3):a.ajax(h)}});if(c.call(window,Backbone)>=0||window.Backbone!==null)Backbone.sync=function(a,b,c,d){var e,f;e=a==="create"||a==="update"?b.toJSON():null,f=a!=="read"?""+b.url()+"/"+a:b.url();return MTV.do_ajax(f,e,c,d)};a||(a=jQuery),window.MTV.Store=new Object({expires:null,get:function(b){var c;this.has_local_storage()?c=a.cookie(b+"-timer")?localStorage.getItem(b):null:c=a.cookie(b);return c?JSON.parse(c):!1},save:function(b,c){var d;d=JSON.stringify(c);if(this.has_local_storage()){a.cookie(b+"-timer","true",{expires:this.expires,path:"/"});return localStorage.setItem(b,d)}return a.cookie(b,d,{expires:this.expires,path:"/"})},remove:function(b){if(this.has_local_storage()){a.cookie(b+"-timer",null,{path:"/"});return localStorage.removeItem(b)}return a.cookie(b,null,{path:"/"})},has_local_storage:function(){try{return"localStorage"in window&&window.localStorage!==null}catch(a){return!1}}})}.call(this)